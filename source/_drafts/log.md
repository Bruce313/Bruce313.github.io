---
title: log
tags:
---

## 目标准则
1. 性能
2. 分组（文件夹）
3. 严格的级别
4. 多分发 transport
5. 能监控运行状态
6. 分**业务日志**和**异常日志**
7. 抽象 formatter handler 方便替换实现

## 最佳实践
1. 用接口facade
2. 时间 主机名 网络/系统情况等原信息
3. stack/line number/function name 但是只用在错误中
4. 业务上下文充分信息
5. 约定结构 便于处理

## 级别解释 常见情况 例子
FATAL：导致程序提前结束的严重错误。
ERROR：运行时异常以及预期之外的错误。
WARN：预期之外的运行时状况，不一定是错误的情况。
INFO：运行时产生的事件。
DEBUG：与程序运行时的流程相关的详细信息。
TRACE：更加具体的详细信息。

## 聚合
1. logstash -> es
